{% extends 'layout.html' %}
{% block content %}
    {% if error_message %}
        <div class="alert alert-dismissible alert-danger">
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            {{ error_message }}
        </div>
    {% endif %}
    {% if password_success %}
        <div class="alert alert-dismissible alert-success">
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            Password changed successfully.
        </div>
    {% endif %}
    <h1 class="my-3">My Account - {{ request.user.username }}</h1>
    <form action="{% url 'change_password' %}" method="POST">
        {% csrf_token %}
        <h2>Change Password</h2>
        <div class="form-group">
            <label for="inputCurrentPassword" class="form-label mt-4">Current Password:</label>
            <input name="current_password" type="password" class="form-control" placeholder="Current Password">
        </div>
        <div class="form-group">
            <label for="inputNewPassword" class="form-label mt-4">New Password:</label>
            <input name="new_password" type="password" class="form-control" placeholder="New Password">
        </div>
        <div class="form-group">
            <label for="inputConfirmPassword" class="form-label mt-4">Confirm New Password:</label>
            <input name="confirm_password" type="password" class="form-control" placeholder="Confirm Password">
        </div>
        <button type="submit" class="btn btn-primary mt-4">Submit</button>
    </form>
{% endblock %}